<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Hello! Helper</title>

<style>
  * { box-sizing: border-box; }

  body {
    font-family: system-ui, sans-serif;
    margin: 0;
    padding: 0;
    background: transparent;
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100vh; /* ← Normal again */
  }

  .card {
    width: 320px; /* Natural size */
    background: rgba(255,255,255,0.42);
    backdrop-filter: blur(7px) saturate(180%);
    -webkit-backdrop-filter: blur(7px) saturate(180%);
    border-radius: 18px;
    padding: 16px;
    border: 1px solid rgba(255,255,255,0.35);
    box-shadow: 0 4px 20px rgba(0,0,0,0.08);
  }

  .title {
    font-size: 18px;
    font-weight: 600;
    margin-bottom: 4px;
  }

  .subtitle {
    font-size: 12px;
    opacity: .65;
    margin-bottom: 10px;
  }

  input {
    width: 100%;
    padding: 9px 11px;
    border-radius: 8px;
    border: 1px solid rgba(0,0,0,0.15);
    background: rgba(255,255,255,0.85);
    font-size: 14px;
    outline: none;
  }

  .suggestions {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    margin: 10px 0;
  }

  .chip {
    background: rgba(255,255,255,0.65);
    border: 1px solid rgba(0,0,0,0.1);
    padding: 5px 8px;
    border-radius: 5px;
    font-size: 10px;
    cursor: pointer;
  }

  .result {
    margin-top: 8px;
    padding: 10px;
    border-radius: 9px;
    border: 1px solid rgba(0,0,0,0.1);
    background: rgba(255,255,255,0.75);
    font-size: 12px;
  }

  .result-desc {
    font-size: 11px;
    opacity: 0.8;
  }

  a { color:#2563eb; text-decoration:none; font-size:11px; }

  .empty {
    font-size: 11px;
    opacity: .6;
    margin-top: 8px;
  }
</style>
</head>

<body>
<div class="card">
  <div class="title">Hello! Helper</div>
  <div class="subtitle">Find answers quickly.</div>

  <input id="query" placeholder="Search…" autocomplete="off"/>

  <div class="suggestions">
    <div class="chip" data-q="public link">Public Link</div>
    <div class="chip" data-q="embed card">Embed Card</div>
    <div class="chip" data-q="filter requests">Filter Requests</div>
  </div>

  <div id="results" class="empty">Start typing or tap a suggestion.</div>
</div>

<script>
// ================================
// Simple Smart Search Engine
// ================================
const knowledgeIndex = [
  {
    title: "Create a public link",
    url: "#",
    desc: "Generate the shareable Hello! link for your profile.",
    tags: ["public","link","profile","url"]
  },
  {
    title: "Embed your Signature Card",
    url: "#",
    desc: "Add your card to any website using iframe or HTML.",
    tags: ["embed","iframe","html","card"]
  },
  {
    title: "Filter LinkUp requests",
    url: "#",
    desc: "Learn how the system blocks spam and low-quality requests.",
    tags: ["filter","linkup","requests","spam"]
  }
];

function tokenize(t){ return t.toLowerCase().split(/\W+/).filter(Boolean); }

function score(entry,q){
  const qT = tokenize(q);
  const eT = tokenize(entry.title + " " + entry.desc + " " + entry.tags.join(" "));
  return qT.reduce((s,t)=>s+(eT.includes(t)?3:0),0);
}

function search(q){
  return knowledgeIndex
    .map(e=>({...e,score:score(e,q)}))
    .filter(e=>e.score>0)
    .sort((a,b)=>b.score-a.score);
}

// ================================
// UI Binding
// ================================
const input = document.getElementById("query");
const results = document.getElementById("results");

input.addEventListener("input", () => {
  const q = input.value.trim();
  if (!q) return results.innerHTML = '<div class="empty">Start typing…</div>';
  const r = search(q);
  if (!r.length) return results.innerHTML = '<div class="empty">No results.</div>';

  results.innerHTML = r.map(e => `
    <div class="result">
      <strong>${e.title}</strong><br>
      <span class="result-desc">${e.desc}</span><br>
      <a href="${e.url}" target="_blank">Open</a>
    </div>
  `).join("");
});

document.querySelectorAll(".chip").forEach(chip => {
  chip.addEventListener("click", () => {
    const q = chip.dataset.q;
    input.value = q;
    input.dispatchEvent(new Event("input"));
  });
});
</script>
</body>
</html>
